<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=EDGE"/>

<script type="text/javascript" src="@{libs/mediate.js}"></script>
<script type="text/javascript" src="@{libs/ximpl.js}"></script>


<script type="text/javascript" src="@{js/index.js}"></script>
<link rel="stylesheet" type="text/css" href="@{css/index.css}" />

<title>Title</title>

<script type="text" id="TextBox">
<span style="font-size: 20px; border: 1px solid #ccc; margin-top: 50px; display: inline-block; padding: 5px;">This is TextBox. {{tick}}</span>
</script>

<script type="text" id="Box">
<div>
	{{test}}
	<div>
		<button type="button">Click here!</button>
		<span>결과 : {{result}} 이런경우 <div></div></span>
	</div>
	<TextBox id="myTextBox"></TextBox>
</div>
</script>

<script type="text/javascript">
var TextBox = mediate.create("TextBox", document.getElementById("TextBox").innerHTML);
TextBox.data = {tick : 0};
TextBox.bindEvent(null, "mouseover", function()
{
	this.update(function()
	{
		this.data.tick = "mouseover";
	});
});

TextBox.bindEvent(null, "mouseleave", function()
{
	this.update(function()
	{
		this.data.tick = "mouseleave";
	});
});

var Box = mediate.create("Box", document.getElementById("Box").innerHTML);
Box.data = {test : "테스트", result : "현재시간"};
Box.bindEvent("button", "click", function()
{
	this.update(function()
	{
		this.data.result = new Date().getTime();
		
		var textbox = document.getElementById("myTextBox");
		textbox.mediate.update(function()
		{
			this.data.tick = "오우예";	
		});
	});	
});
</script>
</head>

<body>
	<div>
		<Box id="asdfbb" class="box" data-test="하하하"></Box>
	</div>
	<h1><Box id="asdfbb" class="box" data-test="하하하"></Box></h1>
</body>

</html>